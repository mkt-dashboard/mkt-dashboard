(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0esZ":function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r("iD3O"),i=function(){function t(t){this.charSpec=t,this.nextStates=[]}return t.prototype.get=function(t){var e=this.nextStates,r=Array.isArray(e),n=0;for(e=r?e:e[Symbol.iterator]();;){var i;if(r){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i;if(o.charSpec.validChars===t.validChars&&o.charSpec.invalidChars===t.invalidChars)return o}},t.prototype.put=function(e){var r=this.get(e);return r||(r=new t(e),this.nextStates.push(r),e.repeat&&r.nextStates.push(r),r)},t.prototype.match=function(t){for(var e=this.nextStates,r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=o.charSpec;void 0!==a.validChars?-1!==a.validChars.indexOf(t)&&r.push(o):void 0!==a.invalidChars&&-1===a.invalidChars.indexOf(t)&&r.push(o)}return r},t}(),o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),a=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,r=0,n=e.length;r<n;++r){var i=e[r];t({validChars:this.caseSensitive?i:i.toUpperCase()+i.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(o,"\\$1")},t.prototype.generate=function(){return this.string},t}(),s=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),u=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),c=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),h=function(){function t(){this.rootState=new i,this.names={},this.routes=new Map}return t.prototype.add=function(t){var e=this;if(!Array.isArray(t)){for(var r=this.rootState,n=[],i="^",o={statics:0,dynamics:0,stars:0},h=[],p=t.handler.name,f=!0,v=function(t,e,r,n){var i=t;"/"===t.charAt(0)&&(i=t.substr(1));for(var o=[],h=i.split("/"),p=0,f=h.length;p<f;++p){var l=h[p],v=l.match(/^:([^?]+)(\?)?$/);if(v){var d=v,g=d[1],y=d[2];if(-1!==g.indexOf("="))throw new Error("Parameter "+g+" in route "+t+" has a default value, which is not supported.");o.push(new s(g,!!y)),e.push(g),r.dynamics++}else(v=l.match(/^\*(.+)$/))?(o.push(new u(v[1])),e.push(v[1]),r.stars++):""===l?o.push(new c):(o.push(new a(l,n)),r.statics++)}return o}(t.path,h,o,t.caseSensitive),d=0,g=v.length;d<g;d++){var y=v[d];if(!(y instanceof c)){for(var m=l(r,y),w=m[0],b=m[1],R=0,I=n.length;R<I;R++)n[R].nextStates.push(w);y.optional?(n.push(b),i+="(?:/"+y.regex()+")?"):(r=b,i+="/"+y.regex(),n.length=0,f=!1)}}f&&(r=r.put({validChars:"/"}),i+="/?");var P=[{handler:t.handler,names:h}];if(this.routes.set(t.handler,{segments:v,handlers:P}),p)for(var _=Array.isArray(p)?p:[p],S=0;S<_.length;S++)_[S]in this.names||(this.names[_[S]]={segments:v,handlers:P});for(var C=0;C<n.length;C++){var A=n[C];A.handlers=P,A.regex=new RegExp(i+"$",t.caseSensitive?"":"i"),A.types=o}return r.handlers=P,r.regex=new RegExp(i+"$",t.caseSensitive?"":"i"),r.types=o,r}t.forEach((function(t){return e.add(t)}))},t.prototype.getRoute=function(t){return"string"==typeof t?this.names[t]:this.routes.get(t)},t.prototype.handlersFor=function(t){var e=this.getRoute(t);if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.getRoute(t)},t.prototype.generate=function(t,e){var r=this.getRoute(t);if(!r)throw new Error("There is no route named "+t);var i=r.handlers[0].handler;if(i.generationUsesHref)return i.href;for(var o=Object.assign({},e),a=r.segments,s={},u="",h=0,p=a.length;h<p;h++){var f=a[h];if(!(f instanceof c)){var l=f.generate(o,s);if(null==l){if(!f.optional)throw new Error("A value is required for route parameter '"+f.name+"' in route '"+t+"'.")}else u+="/",u+=l}}for(var v in"/"!==u.charAt(0)&&(u="/"+u),s)delete o[v];var d=Object(n.a)(o);return u+=d?"?"+d:""},t.prototype.recognize=function(t){var e=[this.rootState],r={},i=!1,o=t,a=o.indexOf("?");if(-1!==a){var s=o.substr(a+1,o.length);o=o.substr(0,a),r=Object(n.c)(s)}"/"!==(o=decodeURI(o)).charAt(0)&&(o="/"+o);var u=o.length;u>1&&"/"===o.charAt(u-1)&&(o=o.substr(0,u-1),i=!0);for(var c=0,h=o.length;c<h&&(e=f(e,o.charAt(c))).length;c++);for(var l=[],v=0,d=e.length;v<d;v++)e[v].handlers&&l.push(e[v]);e=function(t){return t.sort((function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0}))}(l);var g=l[0];if(g&&g.handlers)return i&&"(.+)$"===g.regex.source.slice(-5)&&(o+="/"),function(t,e,r){for(var n=t.handlers,i=t.regex,o=e.match(i),a=1,s=new p(r),u=0,c=n.length;u<c;u++){for(var h=n[u],f=h.names,l={},v=0,d=f.length;v<d;v++)l[f[v]]=o[a++];s.push({handler:h.handler,params:l,isDynamic:!!f.length})}return s}(g,o,r)},t}(),p=function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}};function f(t,e){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];r.push.apply(r,o.match(e))}return r}function l(t,e){var r=t.put({validChars:"/"}),n=r;return e.eachChar((function(t){n=n.put(t)})),[r,n]}},"4ysu":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return st})),r.d(e,"b",(function(){return U})),r.d(e,"c",(function(){return m}));var n=r("MP1E"),i=r("3U8n"),o=r("eP1p"),a=r("0esZ"),s=r("aurelia-event-aggregator"),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var c=function(){function e(t){this.plan=null,this.options={},Object.assign(this,t),this.params=this.params||{},this.viewPortInstructions={};var e=[],r=this;do{var n=Object.assign({},r.params);r.config&&r.config.hasChildRouter&&delete n[r.getWildCardName()],e.unshift(n),r=r.parentInstruction}while(r);var i=Object.assign.apply(Object,[{},this.queryParams].concat(e));this.lifecycleArgs=[i,this.config,this]}return e.prototype.getAllInstructions=function(){var t=[this],e=this.viewPortInstructions;for(var r in e){var n=e[r].childNavigationInstruction;n&&t.push.apply(t,n.getAllInstructions())}return t},e.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map((function(t){return t.previousInstruction})).filter((function(t){return t}))},e.prototype.addViewPortInstruction=function(t,e,r,n){var i,o="string"==typeof t?t:t.name,a=this.lifecycleArgs,s=Object.assign({},a[1],{currentViewPort:o});return i="string"==typeof t?{name:t,strategy:e,moduleId:r,component:n,childRouter:n.childRouter,lifecycleArgs:[a[0],s,a[2]]}:{name:o,strategy:t.strategy,component:t.component,moduleId:t.moduleId,childRouter:t.component.childRouter,lifecycleArgs:[a[0],s,a[2]]},this.viewPortInstructions[o]=i},e.prototype.getWildCardName=function(){var t=this.config.route,e=t.lastIndexOf("*");return t.substr(e+1)},e.prototype.getWildcardPath=function(){var t=this.getWildCardName(),e=this.params[t]||"",r=this.queryString;return r&&(e+="?"+r),e},e.prototype.getBaseUrl=function(){var t=this,e=encodeURI,r=decodeURI(this.fragment);if(""===r){var n=this.router.routes.find((function(e){return e.name===t.config.name&&""!==e.route}));n&&(r=n.route)}if(!this.params)return e(r);var i=this.getWildCardName(),o=this.params[i]||"";return e(o?r.substr(0,r.lastIndexOf(o)):r)},e.prototype._commitChanges=function(e){var r=this,n=this.router;n.currentInstruction=this;var i=this.previousInstruction;i&&(i.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n.refreshNavigation();var o=[],a=[],s=this.viewPortInstructions,u=function(r){var i=s[r],u=n.viewPorts[r];if(!u)throw new Error("There was no router-view found in the view for "+i.moduleId+".");var c=i.childNavigationInstruction;"replace"===i.strategy?c&&c.parentCatchHandler?o.push(c._commitChanges(e)):(e&&a.push({viewPort:u,viewPortInstruction:i}),o.push(u.process(i,e).then((function(){return c?c._commitChanges(e):t.resolve()})))):c&&o.push(c._commitChanges(e))};for(var c in s)u(c);return t.all(o).then((function(){return a.forEach((function(t){return t.viewPort.swap(t.viewPortInstruction)})),null})).then((function(){return h(r)}))},e.prototype._updateTitle=function(){var t=this.router,e=this._buildTitle(t.titleSeparator);e&&t.history.setTitle(e)},e.prototype._buildTitle=function(t){void 0===t&&(t=" | ");var e="",r=[],n=this.config.navModel.title,i=this.router,o=this.viewPortInstructions;for(var a in n&&(e=i.transformTitle(n)),o){var s=o[a].childNavigationInstruction;if(s){var u=s._buildTitle(t);u&&r.push(u)}}return r.length&&(e=r.join(t)+(e?t:"")+e),i.title&&(e+=(e?t:"")+i.transformTitle(i.title)),e},e}(),h=function(t){t.previousInstruction=null,t.plan=null},p=function(){function t(t,e){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=t,this.relativeHref=e}return t.prototype.setTitle=function(t){this.title=t,this.isActive&&this.router.updateTitle()},t}();function f(t,e,r){return void 0===r&&(r=!1),e||"#"===t[0]||(t="#"+t),e&&r&&(t=t.substring(1,t.length)),t}function l(t,e,r,n){if(g.test(t))return t;var i="";return e.length&&"/"!==e[0]&&(i+="/"),(i+=e).length&&"/"===i[i.length-1]||"/"===t[0]||(i+="/"),i.length&&"/"===i[i.length-1]&&"/"===t[0]&&(i=i.substring(0,i.length-1)),f(i+t,r,n)}function v(t){var e=[];if(Array.isArray(t.route))for(var r=0,n=t.route.length;r<n;++r){var i=Object.assign({},t);i.route=t.route[r],e.push(i)}else e.push(Object.assign({},t));return e}var d=/^#?\//,g=/^([a-z][a-z0-9+\-.]*:)?\/\//i,y=function(){function t(){this.instructions=[],this.options={},this.pipelineSteps=[]}return t.prototype.addPipelineStep=function(t,e){if(null==e)throw new Error("Pipeline step cannot be null or undefined.");return this.pipelineSteps.push({name:t,step:e}),this},t.prototype.addAuthorizeStep=function(t){return this.addPipelineStep("authorize",t)},t.prototype.addPreActivateStep=function(t){return this.addPipelineStep("preActivate",t)},t.prototype.addPreRenderStep=function(t){return this.addPipelineStep("preRender",t)},t.prototype.addPostRenderStep=function(t){return this.addPipelineStep("postRender",t)},t.prototype.fallbackRoute=function(t){return this._fallbackRoute=t,this},t.prototype.map=function(t){var e=this;return Array.isArray(t)?(t.forEach((function(t){return e.map(t)})),this):this.mapRoute(t)},t.prototype.useViewPortDefaults=function(t){return this.viewPortDefaults=t,this},t.prototype.mapRoute=function(t){return this.instructions.push((function(e){for(var r,n=v(t),i=0,o=n.length;i<o;++i){var a=n[i];a.settings=a.settings||{},r||(r=e.createNavModel(a)),e.addRoute(a,r)}})),this},t.prototype.mapUnknownRoutes=function(t){return this.unknownRouteConfig=t,this},t.prototype.exportToRouter=function(t){for(var e=this.instructions,r=0,n=e.length;r<n;++r)e[r](t);var i=this,o=i.title,a=i.titleSeparator,s=i.unknownRouteConfig,u=i._fallbackRoute,c=i.viewPortDefaults;o&&(t.title=o),a&&(t.titleSeparator=a),s&&t.handleUnknownRoutes(s),u&&(t.fallbackRoute=u),c&&t.useViewPortDefaults(c),Object.assign(t.options,this.options);var h=this.pipelineSteps,p=h.length;if(p){if(!t.isRoot)throw new Error("Pipeline steps can only be added to the root router");var f=t.pipelineProvider;for(r=0,n=p;r<n;++r){var l=h[r],v=l.name,d=l.step;f.addStep(v,d)}}},t}(),m=function(){function e(t,e){var r=this;this.parent=null,this.options={},this.viewPortDefaults={},this.transformTitle=function(t){return r.parent?r.parent.transformTitle(t):t},this.container=t,this.history=e,this.reset()}return e.prototype.reset=function(){var e=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.isNavigatingFirst=!1,this.isNavigatingNew=!1,this.isNavigatingRefresh=!1,this.isNavigatingForward=!1,this.isNavigatingBack=!1,this.couldDeactivate=!1,this.navigation=[],this.currentInstruction=null,this.viewPortDefaults={},this._fallbackOrder=100,this._recognizer=new a.a,this._childRecognizer=new a.a,this._configuredPromise=new t((function(t){e._resolveConfiguredPromise=t}))},Object.defineProperty(e.prototype,"isRoot",{get:function(){return!this.parent},enumerable:!0,configurable:!0}),e.prototype.registerViewPort=function(t,e){e=e||"default",this.viewPorts[e]=t},e.prototype.ensureConfigured=function(){return this._configuredPromise},e.prototype.configure=function(e){var r=this;this.isConfigured=!0;var n,i=e;return"function"==typeof e&&(i=e(n=new y)),t.resolve(i).then((function(t){t&&t.exportToRouter&&(n=t),n.exportToRouter(r),r.isConfigured=!0,r._resolveConfiguredPromise()}))},e.prototype.navigate=function(t,e){return!this.isConfigured&&this.parent?this.parent.navigate(t,e):(this.isExplicitNavigation=!0,this.history.navigate(function(t,e,r){return d.test(t)?f(t,r):l(t,e,r)}(t,this.baseUrl,this.history._hasPushState),e))},e.prototype.navigateToRoute=function(t,e,r){var n=this.generate(t,e);return this.navigate(n,r)},e.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},e.prototype.createChild=function(t){var r=new e(t||this.container.createChild(),this.history);return r.parent=this,r},e.prototype.generate=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={});var n="childRoute"in e?this._childRecognizer:this._recognizer;if(!n.hasRoute(t)){if(this.parent)return this.parent.generate(t,e,r);throw new Error("A route with name '"+t+"' could not be found. Check that `name: '"+t+"'` was specified in the route's config.")}var i=l(n.generate(t,e),this.baseUrl,this.history._hasPushState,r.absolute);return r.absolute?""+this.history.getAbsoluteRoot()+i:i},e.prototype.createNavModel=function(t){var e=new p(this,"href"in t?t.href:t.route);return e.title=t.title,e.order=t.nav,e.href=t.href,e.settings=t.settings,e.config=t,e},e.prototype.addRoute=function(t,e){if(Array.isArray(t.route)){v(t).forEach(this.addRoute.bind(this))}else{b(t),"viewPorts"in t||t.navigationStrategy||(t.viewPorts={default:{moduleId:t.moduleId,view:t.view}}),e||(e=this.createNavModel(t)),this.routes.push(t);var r=t.route;"/"===r.charAt(0)&&(r=r.substr(1));var n=!0===t.caseSensitive,i=this._recognizer.add({path:r,handler:t,caseSensitive:n});if(r){var o=t.settings;delete t.settings;var a=JSON.parse(JSON.stringify(t));t.settings=o,a.route=r+"/*childRoute",a.hasChildRouter=!0,this._childRecognizer.add({path:a.route,handler:a,caseSensitive:n}),a.navModel=e,a.settings=t.settings,a.navigationStrategy=t.navigationStrategy}t.navModel=e;var s=this.navigation;if((e.order||0===e.order)&&-1===s.indexOf(e)){if(!e.href&&""!==e.href&&(i.types.dynamics||i.types.stars))throw new Error('Invalid route config for "'+t.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof e.order&&(e.order=++this._fallbackOrder),s.push(e),s.sort((function(t,e){return t.order-e.order}))}}},e.prototype.hasRoute=function(t){return!!(this._recognizer.hasRoute(t)||this.parent&&this.parent.hasRoute(t))},e.prototype.hasOwnRoute=function(t){return this._recognizer.hasRoute(t)},e.prototype.handleUnknownRoutes=function(t){var e=this;if(!t)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(r){return e._createRouteConfig(t,r).then((function(t){return r.config=t,r}))}},e.prototype.updateTitle=function(){var t=this.parent;if(t)return t.updateTitle();var e=this.currentInstruction;e&&e._updateTitle()},e.prototype.refreshNavigation=function(){for(var t=this.navigation,e=0,r=t.length;e<r;e++){var n=t[e];n.config.href?n.href=f(n.config.href,this.history._hasPushState):n.href=l(n.relativeHref,this.baseUrl,this.history._hasPushState)}},e.prototype.useViewPortDefaults=function(t){var e=t;for(var r in e){var n=e[r];this.viewPortDefaults[r]={moduleId:n.moduleId}}},e.prototype._refreshBaseUrl=function(){var t=this.parent;t&&(this.baseUrl=w(t,t.currentInstruction))},e.prototype._createNavigationInstruction=function(e,r){void 0===e&&(e=""),void 0===r&&(r=null);var n=e,i="",o=e.indexOf("?");-1!==o&&(n=e.substr(0,o),i=e.substr(o+1));var a=this._recognizer.recognize(e);a&&a.length||(a=this._childRecognizer.recognize(e));var s,u={fragment:n,queryString:i,config:null,parentInstruction:r,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(a&&a.length){var h=a[0],p=new c(Object.assign({},u,{params:h.params,queryParams:h.queryParams||a.queryParams,config:h.config||h.handler}));s="function"==typeof h.handler?R(p,h.handler,h):h.handler&&"function"==typeof h.handler.navigationStrategy?R(p,h.handler.navigationStrategy,h.handler):t.resolve(p)}else if(this.catchAllHandler){p=new c(Object.assign({},u,{params:{path:n},queryParams:a?a.queryParams:{},config:null}));s=R(p,this.catchAllHandler)}else if(this.parent){var f=this._parentCatchAllHandler(this.parent);if(f){var l=this._findParentInstructionFromRouter(f,r);p=new c(Object.assign({},u,{params:{path:n},queryParams:a?a.queryParams:{},router:f,parentInstruction:l,parentCatchHandler:!0,config:null}));s=R(p,f.catchAllHandler)}}return s&&r&&(this.baseUrl=w(this.parent,r)),s||t.reject(new Error("Route not found: "+e))},e.prototype._findParentInstructionFromRouter=function(t,e){return e.router===t?(e.fragment=t.baseUrl,e):e.parentInstruction?this._findParentInstructionFromRouter(t,e.parentInstruction):void 0},e.prototype._parentCatchAllHandler=function(t){return t.catchAllHandler?t:!!t.parent&&this._parentCatchAllHandler(t.parent)},e.prototype._createRouteConfig=function(e,r){var n=this;return t.resolve(e).then((function(t){return"string"==typeof t?{moduleId:t}:"function"==typeof t?t(r):t})).then((function(t){return"string"==typeof t?{moduleId:t}:t})).then((function(t){return t.route=r.params.path,b(t),t.navModel||(t.navModel=n.createNavModel(t)),t}))},e}(),w=function(t,e){return""+(t.baseUrl||"")+(e.getBaseUrl()||"")},b=function(t){if("object"!=typeof t)throw new Error("Invalid Route Config");if("string"!=typeof t.route){var e=t.name||"(no name)";throw new Error('Invalid Route Config for "'+e+'": You must specify a "route:" pattern.')}if(!("redirect"in t||t.moduleId||t.navigationStrategy||t.viewPorts))throw new Error('Invalid Route Config for "'+t.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')},R=function(e,r,n){return t.resolve(r.call(n,e)).then((function(){return"viewPorts"in e.config||(e.config.viewPorts={default:{moduleId:e.config.moduleId}}),e}))},I=function(e,r){return function(e){return t.resolve({status:r,output:e,completed:"completed"===r})}},P=function(){function t(){this.steps=[]}return t.prototype.addStep=function(t){var e;if("function"==typeof t)e=t;else{if("function"==typeof t.getSteps){for(var r=t.getSteps(),n=0,i=r.length;n<i;n++)this.addStep(r[n]);return this}e=t.run.bind(t)}return this.steps.push(e),this},t.prototype.run=function(t){return function(t,e){var r=-1,n=function(){if(!(++r<e.length))return n.complete();var i=e[r];try{return i(t,n)}catch(t){return n.reject(t)}};return n.complete=I(n,"completed"),n.cancel=I(n,"canceled"),n.reject=I(n,"rejected"),n}(t,this.steps)()},t}();function _(t){return t&&"function"==typeof t.navigate}var S=function(){function t(t,e){void 0===e&&(e={}),this.url=t,this.options=Object.assign({trigger:!0,replace:!0},e),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigate(this.url,this.options)},t}();!function(){function t(t,e,r){void 0===e&&(e={}),void 0===r&&(r={}),this.route=t,this.params=e,this.options=Object.assign({trigger:!0,replace:!0},r),this.shouldContinueProcessing=!1}t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigateToRoute(this.route,this.params,this.options)}}();function C(e,r){var n=e.config;if("redirect"in n)return N(e);var i=e.previousInstruction,o=e.router.viewPortDefaults;if(i)return x(e,i,o,r);var a={},s=n.viewPorts;for(var u in s){var c=s[u];null===c.moduleId&&u in o&&(c=o[u]),a[u]={name:u,strategy:"replace",config:c}}return t.resolve(a)}var A,N=function(e){var r=e.config,n=e.router;return n._createNavigationInstruction(r.redirect).then((function(r){var i={},o=e.params,a=r.params;for(var s in a){var u=a[s];"string"==typeof u&&":"===u[0]?(u=u.slice(1))in o&&(i[s]=o[u]):i[s]=a[s]}var c=n.generate(r.config,i,e.options);for(var s in o)c=c.replace(":"+s,o[s]);var h=e.queryString;return h&&(c+="?"+h),t.resolve(new S(c))}))},x=function(e,r,n,i){var o={},a=e.config,s=O(r,e),u=[],c=r.viewPortInstructions,h=function(r){var h=c[r],p=h.component,f=a.viewPorts,l=r in f?f[r]:h;null===l.moduleId&&r in n&&(l=n[r]);var v=E(e,h,l,s,i),d=o[r]={name:r,config:l,prevComponent:p,prevModuleId:h.moduleId,strategy:v};if("replace"!==v&&h.childRouter){var g=e.getWildcardPath(),y=h.childRouter._createNavigationInstruction(g,e).then((function(e){return d.childNavigationInstruction=e,C(e,"invoke-lifecycle"===d.strategy).then((function(r){return r instanceof S?t.reject(r):(e.plan=r,null)}))}));u.push(y)}};for(var p in c)h(p);return t.all(u).then((function(){return o}))},E=function(t,e,r,n,i){var o=t.config,a=e.component.viewModel;return e.moduleId!==r.moduleId?"replace":"determineActivationStrategy"in a?a.determineActivationStrategy.apply(a,t.lifecycleArgs):o.activationStrategy?o.activationStrategy:n||i?"invoke-lifecycle":"no-change"},O=function(t,e){var r=t.params,n=e.params,i=e.config.hasChildRouter?e.getWildCardName():null;for(var o in n)if(o!==i&&r[o]!==n[o])return!0;for(var o in r)if(o!==i&&r[o]!==n[o])return!0;if(!e.options.compareQueryParams)return!1;var a=t.queryParams,s=e.queryParams;for(var o in s)if(a[o]!==s[o])return!0;for(var o in a)if(a[o]!==s[o])return!0;return!1},k=function(){function t(){}return t.prototype.run=function(t,e){return C(t).then((function(r){return r instanceof S?e.cancel(r):(t.plan=r,e())})).catch(e.cancel)},t}(),j=function(e,r){var n=q(r).map((function(t){return M(e,t.navigationInstruction,t.viewPortPlan)}));return t.all(n)},q=function(t,e){void 0===e&&(e=[]);var r=t.plan;for(var n in r){var i=r[n],o=i.childNavigationInstruction;if("replace"===i.strategy)e.push({viewPortPlan:i,navigationInstruction:t}),o&&q(o,e);else{var a=t.addViewPortInstruction({name:n,strategy:i.strategy,moduleId:i.prevModuleId,component:i.prevComponent});o&&(a.childNavigationInstruction=o,q(o,e))}}return e},M=function(e,r,n){var i=n.config,o=i?i.moduleId:null;return T(e,r,i).then((function(i){var a=r.addViewPortInstruction({name:n.name,strategy:n.strategy,moduleId:o,component:i}),s=i.childRouter;if(s){var u=r.getWildcardPath();return s._createNavigationInstruction(u,r).then((function(r){return n.childNavigationInstruction=r,C(r).then((function(n){return n instanceof S?t.reject(n):(r.plan=n,a.childNavigationInstruction=r,j(e,r))}))}))}}))},T=function(e,r,n){var i=r.router,o=r.lifecycleArgs;return t.resolve().then((function(){return e.loadRoute(i,n,r)})).then((function(t){var e=t.viewModel,r=t.childContainer;if(t.router=i,t.config=n,"configureRouter"in e){var a=r.getChildRouter();return t.childRouter=a,a.configure((function(t){return e.configureRouter(t,a,o[0],o[1],o[2])})).then((function(){return t}))}return t}))},U=function(){function t(){}return t.prototype.loadRoute=function(t,e,r){throw new Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},t}(),z=function(){function t(t){this.routeLoader=t}return t.inject=function(){return[U]},t.prototype.run=function(t,e){return j(this.routeLoader,t).then(e,e.cancel)},t}(),D=function(){function t(){}return t.prototype.run=function(t,e){return t._commitChanges(!0).then((function(){return t._updateTitle(),e()}))},t}();!function(t){t.NoChange="no-change",t.InvokeLifecycle="invoke-lifecycle",t.Replace="replace"}(A||(A={}));var H,B,V,F="invoke-lifecycle",W="replace",L=function(t,e,r,n){var i=t.plan,o=$(i,e),a=o.length;function s(t){return n||Y(t)?u():r.cancel(t)}function u(){if(a--)try{var n=o[a][e](t);return K(n,s,r.cancel)}catch(t){return r.cancel(t)}return t.router.couldDeactivate=!0,r()}return u()},$=function(t,e,r){for(var n in void 0===r&&(r=[]),t){var i=t[n],o=i.prevComponent;if((i.strategy===F||i.strategy===W)&&o){var a=o.viewModel;e in a&&r.push(a)}i.strategy===W&&o?J(o,e,r):i.childNavigationInstruction&&$(i.childNavigationInstruction.plan,e,r)}return r},J=function(t,e,r){var n=t.childRouter;if(n&&n.currentInstruction){var i=n.currentInstruction.viewPortInstructions;for(var o in i){var a=i[o].component,s=a.viewModel;e in s&&r.push(s),J(a,e,r)}}},Q=function(t,e,r,n){var i=G(t,e),o=i.length,a=-1;function s(){var t;if(++a<o)try{var u=i[a],c=(t=u.viewModel)[e].apply(t,u.lifecycleArgs);return K(c,(function(t){return function(t,e){return n||Y(t,e)?s():r.cancel(t)}(t,u.router)}),r.cancel)}catch(t){return r.cancel(t)}return r()}return s()},G=function(t,e,r,n){void 0===r&&(r=[]);var i=t.plan;return Object.keys(i).forEach((function(o){var a=i[o],s=t.viewPortInstructions[o],u=s.component,c=u.viewModel;(a.strategy===F||a.strategy===W)&&e in c&&r.push({viewModel:c,lifecycleArgs:s.lifecycleArgs,router:n});var h=a.childNavigationInstruction;h&&G(h,e,r,u.childRouter||n)})),r},Y=function(t,e){return!(t instanceof Error)&&(_(t)?("function"==typeof t.setRouter&&t.setRouter(e),!!t.shouldContinueProcessing):void 0===t||t)},Z=function(){function t(t){this._subscribed=!0,this._subscription=t(this),this._subscribed||this.unsubscribe()}return Object.defineProperty(t.prototype,"subscribed",{get:function(){return this._subscribed},enumerable:!0,configurable:!0}),t.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},t}(),K=function(e,r,n){if(e&&"function"==typeof e.then)return t.resolve(e).then(r).catch(n);if(e&&"function"==typeof e.subscribe){var i=e;return new Z((function(t){return i.subscribe({next:function(){t.subscribed&&(t.unsubscribe(),r(e))},error:function(e){t.subscribed&&(t.unsubscribe(),n(e))},complete:function(){t.subscribed&&(t.unsubscribe(),r(e))}})}))}try{return r(e)}catch(t){return n(t)}},X=function(){function t(){}return t.prototype.run=function(t,e){return L(t,"canDeactivate",e)},t}(),tt=function(){function t(){}return t.prototype.run=function(t,e){return Q(t,"canActivate",e)},t}(),et=function(){function t(){}return t.prototype.run=function(t,e){return L(t,"deactivate",e,!0)},t}(),rt=function(){function t(){}return t.prototype.run=function(t,e){return Q(t,"activate",e,!0)},t}(),nt=function(){function t(t,e,r){this.steps=[],this.container=t,this.slotName=e,this.slotAlias=r}return t.prototype.getSteps=function(){var t=this;return this.steps.map((function(e){return t.container.get(e)}))},t}(),it=function(){function t(t){this.container=t,this.steps=[k,X,z,ot(t,"authorize"),tt,ot(t,"preActivate","modelbind"),et,rt,ot(t,"preRender","precommit"),D,ot(t,"postRender","postcomplete")]}return t.inject=function(){return[i.a]},t.prototype.createPipeline=function(t){var e=this;void 0===t&&(t=!0);var r=new P;return this.steps.forEach((function(n){(t||n!==X)&&r.addStep(e.container.get(n))})),r},t.prototype._findStep=function(t){return this.steps.find((function(e){return e.slotName===t||e.slotAlias===t}))},t.prototype.addStep=function(t,e){var r=this._findStep(t);if(!r)throw new Error("Invalid pipeline slot name: "+t+".");var n=r.steps;n.includes(e)||n.push(e)},t.prototype.removeStep=function(t,e){var r=this._findStep(t);if(r){var n=r.steps;n.splice(n.indexOf(e),1)}},t.prototype._clearSteps=function(t){void 0===t&&(t="");var e=this._findStep(t);e&&(e.steps=[])},t.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},t}(),ot=function(t,e,r){return new nt(t,e,r)},at=Object(n.getLogger)("app-router"),st=function(e){function r(t,r,n,i){var o=e.call(this,t,r)||this;return o.pipelineProvider=n,o.events=i,o}return function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(r,e),r.inject=function(){return[i.a,o.a,it,s.a]},r.prototype.reset=function(){e.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},r.prototype.loadUrl=function(t){var e=this;return this._createNavigationInstruction(t).then((function(t){return e._queueInstruction(t)})).catch((function(t){at.error(t),ht(e)}))},r.prototype.registerViewPort=function(r,n){var i=this,o=r;if(e.prototype.registerViewPort.call(this,o,n),this.isActive)this._dequeueInstruction();else{var a=this._findViewModel(o);if("configureRouter"in a){if(!this.isConfigured){var s=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=function(){},this.configure((function(e){return t.resolve(a.configureRouter(e,i)).then((function(){return e}))})).then((function(){i.activate(),s()}))}}else this.activate()}return t.resolve()},r.prototype.activate=function(t){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,t),this.history.activate(this.options),this._dequeueInstruction())},r.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},r.prototype._queueInstruction=function(e){var r=this;return new t((function(t){e.resolve=t,r._queue.unshift(e),r._dequeueInstruction()}))},r.prototype._dequeueInstruction=function(e){var r=this;return void 0===e&&(e=0),t.resolve().then((function(){if(!r.isNavigating||e){var t=r._queue.shift();if(r._queue.length=0,t){r.isNavigating=!0;var n=r.history.getState("NavigationTracker"),i=r.currentNavigationTracker;n||i?n?i?i<n?r.isNavigatingForward=!0:i>n&&(r.isNavigatingBack=!0):r.isNavigatingRefresh=!0:r.isNavigatingNew=!0:(r.isNavigatingFirst=!0,r.isNavigatingNew=!0),n||(n=Date.now(),r.history.setState("NavigationTracker",n)),r.currentNavigationTracker=n,t.previousInstruction=r.currentInstruction;var o=r.maxInstructionCount;if(e){if(e===o-1)return at.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location."),ht(r),r._dequeueInstruction(e+1);if(e>o)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else r.events.publish("router:navigation:processing",{instruction:t});return r.pipelineProvider.createPipeline(!r.couldDeactivate).run(t).then((function(n){return ut(t,n,e,r)})).catch((function(t){return{output:t instanceof Error?t:new Error(t)}})).then((function(n){return ct(t,n,!!e,r)}))}}}))},r.prototype._findViewModel=function(t){if(this.container.viewModel)return this.container.viewModel;if(t.container)for(var e=t.container;e;){if(e.viewModel)return this.container.viewModel=e.viewModel,e.viewModel;e=e.parent}},r}(m),ut=function(e,r,n,i){r&&"completed"in r&&"output"in r||((r=r||{}).output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(r)+"] instead."));var o=null,a=null;return _(r.output)?a=r.output.navigate(i):(o=r,r.completed||(r.output instanceof Error&&at.error(r.output.toString()),ht(i))),t.resolve(a).then((function(t){return i._dequeueInstruction(n+1)})).then((function(t){return o||t||r}))},ct=function(t,e,r,n){t.resolve(e);var i=n.events,o={instruction:t,result:e};if(r)i.publish("router:navigation:child:complete",o);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1,n.isNavigatingFirst=!1,n.isNavigatingNew=!1,n.isNavigatingRefresh=!1,n.isNavigatingForward=!1,n.isNavigatingBack=!1,n.couldDeactivate=!1;var a=void 0;if(e.output instanceof Error)a="router:navigation:error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,a="router:navigation:success"}else a="router:navigation:canceled";i.publish(a,o),i.publish("router:navigation:complete",o)}return e},ht=function(t){var e=t.history.previousLocation;e?t.navigate(e,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):at.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")};!function(t){t.Completed="completed",t.Canceled="canceled",t.Rejected="rejected",t.Running="running"}(H||(H={})),function(t){t.Processing="router:navigation:processing",t.Error="router:navigation:error",t.Canceled="router:navigation:canceled",t.Complete="router:navigation:complete",t.Success="router:navigation:success",t.ChildComplete="router:navigation:child:complete"}(B||(B={})),function(t){t.Authorize="authorize",t.PreActivate="preActivate",t.PreRender="preRender",t.PostRender="postRender"}(V||(V={}))}).call(this,r("B/eG").default)}}]);
//# sourceMappingURL=vendors~026a7bfe.30fb64ccb52ac0bf2931.bundle.map